<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    let array = [
      {
        id: 1,
        parent_id: 0,
        name: "四川省"
      },
      {
        id: 2,
        parent_id: 0,
        name: "广东省"
      },
      {
        id: 3,
        parent_id: 0,
        name: "江西省"
      },
      {
        id: 5,
        parent_id: 1,
        name: "成都市"
      },
      {
        id: 6,
        parent_id: 5,
        name: "锦江区"
      },
      {
        id: 7,
        parent_id: 6,
        name: "九眼桥"
      },
      {
        id: 8,
        parent_id: 6,
        name: "兰桂坊"
      },
      {
        id: 9,
        parent_id: 2,
        name: "东莞市"
      },
      {
        id: 10,
        parent_id: 9,
        name: "长安镇"
      },
      {
        id: 11,
        parent_id: 3,
        name: "南昌市"
      }
    ]
    
    function listToTree(list) {
      let map = {};
      list.forEach(item => {
        if (! map[item.id]) {
          map[item.id] = item;
        }
      });
    
      list.forEach(item => {
        if (item.parent_id !== 0) {
          if (map[item.parent_id].children) {
            map[item.parent_id].children.push(item)
          } else {
            map[item.parent_id].children = [item]
          }
        }
      });
      
      return list.filter(item => {
        if (item.parent_id === 0) {
          return item;
        }
      })
    }
    console.log(listToTree(array));
  </script>
</body>
</html>